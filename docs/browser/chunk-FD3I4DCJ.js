import{a as _e}from"./chunk-2VSMR7NL.js";import{A as p,B as G,C as f,D as J,E as x,G as I,H as S,I as L,J as Q,K as P,L as E,M as X,N as ee,O as te,P as ne,Q as oe,R as ie,S as re,Y as se,a as B,b as j,ba as ce,c as V,ca as ae,da as le,e as O,f as R,h as H,i as q,ja as ge,k as u,ka as de,l as b,la as me,m as $,ma as pe,n as a,na as fe,o as v,oa as he,p as K,pa as ue,q as U,r as y,s as d,sa as be,ta as Ce,u as Z,v as c,w as l,x as k,y as Y,z as w}from"./chunk-SIR7TBT2.js";import"./chunk-LJPJPRKY.js";import"./chunk-NMOIXW3U.js";import"./chunk-WRK5LGSP.js";import"./chunk-GQQPADKX.js";import"./chunk-CKIBZVXW.js";import"./chunk-PS2NURIG.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-ETKKMGST.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-RW4GY4BD.js";function xe(){return typeof window<"u"?window.navigator:void 0}function ke(n){return!!(n.parentElement&&n.parentElement.nodeName.toLowerCase()==="picture")}function C(n){return n.nodeName.toLowerCase()==="img"}function Pe(n,e,t){return C(n)?t&&"srcset"in n?n.srcset=e:n.src=e:n.style.backgroundImage=`url('${e}')`,n}function F(n){return e=>{let t=e.parentElement.getElementsByTagName("source");for(let i=0;i<t.length;i++){let o=t[i].getAttribute(n);o&&("srcset"in t[i]?t[i].srcset=o:t[i].src=o)}}}var Ie=F("defaultImage"),Me=F("lazyLoad"),Se=F("errorImage");function W(n){return(e,t,i)=>{C(e)&&ke(e)&&n(e),t&&Pe(e,t,i)}}var Le=W(Ie),Ee=W(Me),Te=W(Se),z=class{constructor(){this.navigator=xe()}setPlatformId(e){this.platformId=e}onDestroy(e){}onAttributeChange(e){}},h={loaded:"ng-lazyloaded",loading:"ng-lazyloading",failed:"ng-failed-lazyloaded"};function ye(n,e){n.className=n.className.replace(e,"")}function T(n,e){n.className.includes(e)||(n.className+=` ${e}`)}function ze(n,e){return n.className&&n.className.includes(e)}var N=class extends z{setup(e){Le(e.element,e.defaultImagePath,e.useSrcset),e.imagePath&&T(e.element,h.loading),ze(e.element,h.loaded)&&ye(e.element,h.loaded)}finally(e){T(e.element,h.loaded),ye(e.element,h.loading)}loadImage(e){if(this.skipLazyLoading(e))return[e.imagePath];let{element:t,useSrcset:i,imagePath:o,decode:r}=e,s;return C(t)&&ke(t)?(s=t.parentNode.cloneNode(!0).getElementsByTagName("img")[0],Me(s),Pe(s,o,i)):(s=new Image,C(t)&&t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),C(t)&&t.sizes&&(s.sizes=t.sizes),i&&"srcset"in s?s.srcset=o:s.src=o),r&&s.decode?s.decode().then(()=>o):new Promise((m,A)=>{s.onload=()=>m(o),s.onerror=()=>A(null)})}setErrorImage(e,t){let{element:i,useSrcset:o,errorImagePath:r}=t;Te(i,r,o),T(i,h.failed)}setLoadedImage(e,t){let{element:i,useSrcset:o}=t;Ee(i,e,o)}isDisabled(){return re(this.platformId)&&!this.isBot()}skipLazyLoading(e){return this.isBot(e)}isBot(e){var t;return(t=this.navigator)!=null&&t.userAgent?/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent):!1}},D=class extends N{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new j,this.uniqKey={}}getObservable(e){if(this.skipLazyLoading(e))return V({isIntersecting:!0});if(e.customObservable)return e.customObservable;let t=e.scrollContainer||this.uniqKey,i={root:e.scrollContainer||null};e.offset&&(i.rootMargin=`${e.offset}px`);let o=this.observers.get(t);return o||(o=new IntersectionObserver(r=>this.loadingCallback(r),i),this.observers.set(t,o)),o.observe(e.element),B.create(r=>{let s=this.intersectionSubject.pipe(R(m=>m.target===e.element)).subscribe(r);return()=>{s.unsubscribe(),o.unobserve(e.element)}})}isVisible(e){return e.isIntersecting}loadingCallback(e){e.forEach(t=>this.intersectionSubject.next(t))}};var Ne=new q("LazyLoadImageHooks");var Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U({type:n}),n.\u0275inj=H({providers:[{provide:Ne,useClass:D}]}),n})(),M=class n{constructor(e,t,i,o){this.left=e,this.top=t,this.right=i,this.bottom=o}static fromElement(e){let{left:t,top:i,right:o,bottom:r}=e.getBoundingClientRect();return t===0&&i===0&&o===0&&r===0?n.empty:new n(t,i,o,r)}static fromWindow(e){return new n(0,0,e.innerWidth,e.innerHeight)}inflate(e){this.left-=e,this.top-=e,this.right+=e,this.bottom+=e}intersectsWith(e){return e.left<this.right&&this.left<e.right&&e.top<this.bottom&&this.top<e.bottom}getIntersectionWith(e){let t=Math.max(this.left,e.left),i=Math.max(this.top,e.top),o=Math.min(this.right,e.right),r=Math.min(this.bottom,e.bottom);return o>=t&&r>=i?new n(t,i,o,r):n.empty}};M.empty=new M(0,0,0,0);var De=n=>["/details",n];function Fe(n,e){n&1&&(c(0,"div",7),k(1,"img",8),c(2,"p"),f(3,"Carregando Pok\xE9mons..."),l()())}function We(n,e){if(n&1&&(c(0,"ion-segment-button",16),f(1),P(2,"titlecase"),l()),n&2){let t=e.$implicit;Z("type-"+t.name),d("value",t.name),a(),x(" ",E(2,4,t.name)," ")}}function Ae(n,e){if(n&1&&(c(0,"ion-card",17)(1,"ion-router-link",18),k(2,"img",19),c(3,"ion-card-content")(4,"div",20),f(5),P(6,"number"),l(),c(7,"div",21),f(8),P(9,"titlecase"),l()()()()),n&2){let t=e.$implicit,i=p(2);a(),d("routerLink",Q(10,De,t.id)),a(),G("alt",t.name),d("src",i.getPokemonImage(t),$),a(3),x("#",X(6,5,t.id,"3.0-0"),""),a(3),J(E(9,8,t.name))}}function Be(n,e){if(n&1){let t=Y();c(0,"div")(1,"div",9)(2,"ion-segment",10),L("ngModelChange",function(o){u(t);let r=p();return S(r.selectedType,o)||(r.selectedType=o),b(o)}),w("ionChange",function(){u(t);let o=p();return b(o.filterByType(o.selectedType))}),c(3,"ion-segment-button",11),f(4,"Todos"),l(),y(5,We,3,6,"ion-segment-button",12),l()(),c(6,"ion-searchbar",13),L("ngModelChange",function(o){u(t);let r=p();return S(r.searchTerm,o)||(r.searchTerm=o),b(o)}),w("ionInput",function(){u(t);let o=p();return b(o.onSearchChange())}),l(),c(7,"div",14),y(8,Ae,10,12,"ion-card",15),l()()}if(n&2){let t=p();a(2),I("ngModel",t.selectedType),a(3),d("ngForOf",t.types),a(),I("ngModel",t.searchTerm),a(2),d("ngForOf",t.displayedPokemons)}}var Mt=(()=>{let e=class e{constructor(i){this.pokemonService=i,this.pokemons=[],this.displayedPokemons=[],this.loading=!0,this.types=[{name:"All",url:""}],this.selectedType="",this.searchTerm=""}ngOnInit(){this.loadTypes(),this.loadAllPokemons()}loadTypes(){this.pokemonService.getPokemonTypes().subscribe(i=>{this.types=i.results})}loadAllPokemons(){let r=[];for(let s=0;s<10277;s+=100)r.push(this.pokemonService.getPokemonList(s,100));O(r).subscribe({next:s=>{let m=[];s.forEach(g=>m.push(...g.results));let ve=m.filter(g=>{let _=this.extractIdFromUrl(g.url);return _>=1&&_<=1025||_>=10001&&_<=10277}).map(g=>this.pokemonService.getPokemonDetails(g.name));O(ve).subscribe({next:g=>{this.pokemons=g,this.applyFilters(),this.loading=!1},error:g=>{console.error("Erro carregando detalhes dos pokemons",g),this.loading=!1}})},error:s=>{console.error("Erro carregando lista de pokemons",s),this.loading=!1}})}extractIdFromUrl(i){let o=i.split("/").filter(r=>r);return Number(o[o.length-1])}onSearchChange(){this.applyFilters()}filterByType(i){this.selectedType=i,this.applyFilters()}applyFilters(){let i=[...this.pokemons];if(this.selectedType&&this.selectedType!==""&&(i=i.filter(o=>o.types.some(r=>r.type.name===this.selectedType))),this.searchTerm.trim()!==""){let o=this.searchTerm.toLowerCase();i=i.filter(r=>r.name.toLowerCase().includes(o))}this.displayedPokemons=i}getPokemonImage(i){var o;return(o=i.sprites)==null?void 0:o.front_default}};e.\u0275fac=function(o){return new(o||e)(v(_e))},e.\u0275cmp=K({type:e,selectors:[["app-home"]],decls:9,vars:2,consts:[["color","danger",1,"home-toolbar"],[1,"header-content"],["src","../../../assets/icon/favicon.png","alt","pokedex",1,"header-logo"],[1,"header-title"],[1,"home-content"],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],["src","../../../assets/Pok\xE9_Ball_icon.png","alt","Carregando Pok\xE9mons...",1,"spinner"],[1,"filter-section"],["scrollable","true",1,"type-filter",3,"ngModelChange","ionChange","ngModel"],["value","",1,"type-all"],[3,"value","class",4,"ngFor","ngForOf"],["placeholder","Buscar Pok\xE9mon...","animated","true","clearIcon","close-circle",1,"pokemon-search",3,"ngModelChange","ionInput","ngModel"],[1,"pokemon-grid"],["class","pokemon-card",4,"ngFor","ngForOf"],[3,"value"],[1,"pokemon-card"],["routerDirection","forward",3,"routerLink"],[1,"pokemon-image",3,"src","alt"],[1,"pokemon-number"],[1,"pokemon-name"]],template:function(o,r){o&1&&(c(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1),k(3,"img",2),c(4,"ion-title",3),f(5,"Pok\xE9dex"),l()()()(),c(6,"ion-content",4),y(7,Fe,4,0,"div",5)(8,Be,9,4,"div",6),l()),o&2&&(a(7),d("ngIf",r.loading),a(),d("ngIf",!r.loading))},dependencies:[me,ie,ee,te,oe,ne,le,ce,ae,Oe,se,Ce,fe,be,de,ge,pe,he,ue],styles:['@charset "UTF-8";.home-content[_ngcontent-%COMP%]{--background: #f5f5f5;--padding-top: 16px;--padding-bottom: 16px;--padding-start: 16px;--padding-end: 16px;overflow-x:hidden}.home-toolbar[_ngcontent-%COMP%]{--background: var(--ion-color-danger);--color: white}.home-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 16px}.home-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px}.home-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;padding:0;margin:0;color:#fff}.filter-section[_ngcontent-%COMP%]{margin-bottom:16px;overflow-x:hidden}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]{display:flex;overflow-x:auto;white-space:nowrap;padding:8px 0;gap:4px;scrollbar-width:none;-ms-overflow-style:none}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{flex:0 0 auto;min-width:90px;margin:0 2px;text-transform:capitalize;--background: #f0f0f0;--color: #333;--color-checked: white;--indicator-color: transparent;border-radius:8px;transition:all .2s ease}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{font-weight:700;box-shadow:0 2px 6px #0003}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-all.segment-button-checked[_ngcontent-%COMP%]{background-color:#7a7a7a;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-normal.segment-button-checked[_ngcontent-%COMP%]{background-color:#d3d28a;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-fire.segment-button-checked[_ngcontent-%COMP%]{background-color:#ee8130;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-water.segment-button-checked[_ngcontent-%COMP%]{background-color:#6390f0;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-electric.segment-button-checked[_ngcontent-%COMP%]{background-color:#f7d02c;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-grass.segment-button-checked[_ngcontent-%COMP%]{background-color:#7ac74c;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-ice.segment-button-checked[_ngcontent-%COMP%]{background-color:#96d9d6;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-fighting.segment-button-checked[_ngcontent-%COMP%]{background-color:#c22e28;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-poison.segment-button-checked[_ngcontent-%COMP%]{background-color:#a33ea1;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-ground.segment-button-checked[_ngcontent-%COMP%]{background-color:#e2bf65;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-flying.segment-button-checked[_ngcontent-%COMP%]{background-color:#a98ff3;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-psychic.segment-button-checked[_ngcontent-%COMP%]{background-color:#f95587;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-bug.segment-button-checked[_ngcontent-%COMP%]{background-color:#a6b91a;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-rock.segment-button-checked[_ngcontent-%COMP%]{background-color:#b6a136;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-ghost.segment-button-checked[_ngcontent-%COMP%]{background-color:#735797;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-dragon.segment-button-checked[_ngcontent-%COMP%]{background-color:#6f35fc;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-dark.segment-button-checked[_ngcontent-%COMP%]{background-color:#705746;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-steel.segment-button-checked[_ngcontent-%COMP%]{background-color:#b7b7ce;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-fairy.segment-button-checked[_ngcontent-%COMP%]{background-color:#d685ad;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-unknown.segment-button-checked[_ngcontent-%COMP%]{background-color:#9e9e9e;--color-checked: white;color:#fff}.filter-section[_ngcontent-%COMP%]   .type-filter[_ngcontent-%COMP%]   ion-segment-button.type-stellar.segment-button-checked[_ngcontent-%COMP%]{background-color:#ff69b4;--color-checked: white;color:#fff}.pokemon-search[_ngcontent-%COMP%]{padding:0 16px 16px;--background: white;--border-radius: 8px;--box-shadow: 0 2px 8px rgba(0, 0, 0, .1);--color: #333}.pokemon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px;padding:0 16px}.pokemon-card[_ngcontent-%COMP%]{--background: white;border-radius:12px;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease,box-shadow .3s ease;margin:0;overflow:visible;cursor:pointer}.pokemon-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 16px #00000026}.pokemon-card[_ngcontent-%COMP%]   .pokemon-image[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:contain;padding:0}.pokemon-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0;margin:0}.pokemon-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .pokemon-number[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;margin-bottom:4px}.pokemon-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .pokemon-name[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;font-weight:600;margin:0}ion-content[_ngcontent-%COMP%]::part(scroll){scrollbar-width:thin;scrollbar-color:var(--ion-color-danger) #f0f0f0}ion-content[_ngcontent-%COMP%]::part(scroll)::-webkit-scrollbar{width:8px}ion-content[_ngcontent-%COMP%]::part(scroll)::-webkit-scrollbar-track{background:#f0f0f0;border-radius:10px}ion-content[_ngcontent-%COMP%]::part(scroll)::-webkit-scrollbar-thumb{background-color:var(--ion-color-danger);border-radius:10px;border:2px solid #f0f0f0}.loading-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;color:var(--ion-color-danger);font-weight:700}.spinner[_ngcontent-%COMP%]{width:80px;height:80px;animation:_ngcontent-%COMP%_spin 1.5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']});let n=e;return n})();export{Mt as HomePage};
